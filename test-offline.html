<!DOCTYPE html>
<html>
<head>
  <title>Offline Storage Test</title>
</head>
<body>
  <h1>Offline Storage Test</h1>
  <button onclick="testOffline()">Test Offline Storage</button>
  <button onclick="checkOnlineStatus()">Check Online Status</button>
  <pre id="output"></pre>

  <script>
    const output = document.getElementById('output');
    
    function log(msg) {
      output.textContent += msg + '\n';
      console.log(msg);
    }
    
    function checkOnlineStatus() {
      output.textContent = '';
      log('navigator.onLine: ' + navigator.onLine);
      log('window.__TAURI__: ' + (typeof window.__TAURI__ !== 'undefined' ? 'defined' : 'undefined'));
    }
    
    async function testOffline() {
      output.textContent = '';
      log('Testing offline storage...');
      log('navigator.onLine: ' + navigator.onLine);
      
      // Test localStorage
      try {
        localStorage.setItem('test', 'value');
        log('✓ localStorage works');
        localStorage.removeItem('test');
      } catch (e) {
        log('✗ localStorage error: ' + e.message);
      }
      
      // Check if we're in Tauri
      log('\nTauri check:');
      log('window.__TAURI__: ' + (typeof window.__TAURI__ !== 'undefined' ? 'defined' : 'undefined'));
    }
  </script>
</body>
</html>
